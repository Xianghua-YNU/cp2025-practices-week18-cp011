
# 实验报告：Buffon 投针实验估计 $\pi$ 值

**学生姓名：** [马海尔吉] 

**学号：** [20231050169] 

**完成日期：** [20250625]

## 一、实验目的
编写程序，利用 Buffon 投针实验来估计 $\pi$ 的值，并分析实验次数对估计精度的影响。

## 二、实验原理
简要描述 Buffon 投针实验的原理，包括投针概率与 $\pi$ 的关系公式。
Buffon 投针实验利用随机投针估算π：针长L，平行线间距d，若针与线相交的概率为(2L)/(πd)，通过大量实验统计相交比例即可反推π≈(2LN)/(dC)，其中N是总投针次数，C是相交次数

## 三、实验环境
### 3.1 硬件环境
- 计算机型号：[WIN-RPL7DR2FKEE]
- CPU：[Intel(R) Celeron(R) N5095 @ 2.00GHz   2.00 GHz]
- 内存：[477GB]

### 3.2 软件环境
- 操作系统：[Windows11]
- 编程语言：[Python]
- 开发工具：[填写使用的开发工具]

## 四、实验步骤
### 4.1 投针实验模拟逻辑实现
详细描述实现投针实验模拟逻辑的步骤，可附上关键代码片段。
设定针长L=1，平行线间距d=2
重复N次实验：
随机生成针中点位置y∈[0,d/2]
随机生成针角度θ∈[0,π/2]
若y≤(L/2)*sinθ则计数
最终用公式π≈(2LN)/(d*相交次数)估算π值
```python
# 此处填写关键代码示例import random
import math

def buffon_needle_simulation(N, L=1.0, d=2.0):
    crossings = 0
    for _ in range(N):
        y = random.uniform(0, d / 2)          # 随机中点位置
        theta = random.uniform(0, math.pi / 2) # 随机角度
        if y <= (L / 2) * math.sin(theta):     # 判断相交
            crossings += 1
    if crossings == 0:
        return 0  # 避免除零错误
    return (2 * L * N) / (d * crossings)       # 估算π

# 示例：投针100,000次
N = 100_000
estimated_pi = buffon_needle_simulation(N)
print(f"投针次数: {N}, π估计值: {estimated_pi:.6f}")
```

### 4.2 实验次数设置
说明实验中设置的不同实验次数，例如：100、1000、10000、100000 等。

### 4.3 运行实验并记录结果
记录每次实验得到的 $\pi$ 估计值。

## 五、实验结果
### 5.1 不同实验次数下的 $\pi$ 估计值
| 实验次数 | $\pi$ 估计值 |
|----------|---------------|
| 100      | 3.23  |
| 1000     | 3.37  |
| 10000    | 3.15  |
| 100000   | 3.13  |

### 5.2 实验结果可视化
附上不同实验次数与 $\pi$ 估计值的关系图表，可使用折线图或柱状图。
![实验结果图表]([填写图表路径])![Figure 2025-06-25 104922](https://github.com/user-attachments/assets/32966c96-8bcf-4928-a17d-5d4750bfd231)


## 六、结果分析
### 6.1 实验次数对估计精度的影响
分析随着实验次数的增加， $\pi$ 估计值的变化趋势，以及估计精度的变化情况。
从左图（Buffon 投针实验\(\pi\)估计 ）来看，在实验次数较少（如\(10^2\) 、逐渐增加到\(10^3\) 过程中 ），\(\pi\)估计值波动较大，先上升后大幅下降；当实验次数进一步增加（从\(10^3\) 往\(10^4\) 、\(10^5\) 变化时 ），估计值总体逐渐向真实\(\pi\)值（约 3.14 ，图中红色虚线 ）靠拢，虽然仍有小幅度波动，但整体趋近于真实值的趋势明显。即随着实验次数增加，\(\pi\)估计值从大幅偏离真实值，逐步收敛，波动减小，趋近真实\(\pi\)值 

### 6.2 误差来源分析
讨论实验中可能存在的误差来源，如随机数生成的质量、模拟逻辑的近似等。
随机数生成质量：实验依赖随机数模拟针的投放位置（如针的中点距离直线的横向位置、针与直线的夹角 ）。若随机数生成算法不佳，无法保证均匀、独立分布，会使投放场景偏离理论假设的均匀随机性，导致相交概率计算偏差，影响 \(\pi\) 估计值。比如伪随机数存在周期性、分布不均匀，会让针的位置和角度组合不符合理想的随机分布，使实验统计的相交次数与理论概率偏离，造成误差。模拟逻辑近似：理论上针的投放是连续、无限可分的，但计算机模拟或实际操作中，会对一些参数做离散化、近似处理。例如，用计算机模拟时，角度、位置的数值通常是有限精度的浮点数，无法完全精确表示连续的实数范围；实际投针实验里，针的长度、直线间距的测量也存在精度限制，这些近似会让模拟场景和理论模型有差异，导致误差。像测量针长和间距时，工具精度有限，无法达到理论上的绝对精确，使计算用的 \(l/d\)（l 为针长，d 为直线间距 ）与真实理论值有偏差，影响 \(\pi\) 计算。实验次数与统计特性：实验次数有限时，统计的相交次数 n 和总次数 m 的比值（\(m/n\) 相关计算 ）存在波动。即使随机数和模拟逻辑理想，有限次数下也难完美契合理论概率，会有随机误差。而且，若实验次数不是 “最佳投掷次数”（如参考资料提到的特定能更接近 \(\pi\) 真实值的次数 ），即使增加次数，也可能因统计特性，无法有效提升精度，甚至出现精度波动、下降情况

## 七、实验结论
总结实验结果，说明 Buffon 投针实验是否能够有效估计 $\pi$ 的值，以及实验次数对估计精度的影响是否符合预期。
从结果看，Buffon 投针实验能够有效估计 π 的值。实验次数对精度的影响 基本符合预期 ，但存在细节差异。



        
